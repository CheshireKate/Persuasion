
traitDescription = 'To resleeve, right click, select State, then pick the relevant sleeve'
cardCount = 60

base = {
    'deckID': 1,
    'tts_color': "None",
    'name': 'Trait',
    'description': traitDescription,
    'face': 'http://cloud-3.steamusercontent.com/ugc/1760314147747434713/6B13D6CC5FB99E4C16F48DAFE7B315D5E75FBF84/',
    'back': 'http://cloud-3.steamusercontent.com/ugc/1760314147747003169/3FA671000FC54F9E5820713587059A40F17D4ADD/'
}

decks = [
    {
        'deckID': 2,
        'tts_color': "Brown",
        'name': 'Black Dog Trait',
        'description': traitDescription,
        'face': 'http://cloud-3.steamusercontent.com/ugc/1760314147747430603/CF3265C77AAA327E5D4B8A2DBE0880559E6DA4CB/',
        'back': 'http://cloud-3.steamusercontent.com/ugc/1656728318303124139/3386D885EC1630D77C835EA6C49FA6B6C64C8952/'
    },
    {
        'deckID': 3,
        'tts_color': "Blue",
        'name': 'Blue Lion Trait',
        'description': traitDescription,
        'face': 'http://cloud-3.steamusercontent.com/ugc/1760314147747431007/1293A19E6EA5F9952F78F8207E1904388D8B48CF/',
        'back': 'http://cloud-3.steamusercontent.com/ugc/1656728318303214207/F6C545671C5D9E26A8587061ADE177DD0240D2B0/'
    },
    {
        'deckID': 4,
        'tts_color': "Green",
        'name': 'Green Tree Trait',
        'description': traitDescription,
        'face': 'http://cloud-3.steamusercontent.com/ugc/1760314147747431448/DB082DD3C6511B4896C55D0ED156DFD5A717D72B/',
        'back': 'http://cloud-3.steamusercontent.com/ugc/1656728318303219676/E43B426C0EC6E5C4828774496FA767B4D9FD2810/'
    },
    {
        'deckID': 5,
        'tts_color': "Teal",
        'name': 'Cyan Shield Trait',
        'description': traitDescription,
        'face': 'http://cloud-3.steamusercontent.com/ugc/1760314147747433046/ED1F467AEC24E6C26B200CED55B12654F1D80A39/',
        'back': 'http://cloud-3.steamusercontent.com/ugc/1656728318303223441/26EBC8436FCDFF59041E702E58506D1E068985AE/'
    },
    {
        'deckID': 6,
        'tts_color': "Yellow",
        'name': 'Yellow Sun Trait',
        'description': traitDescription,
        'face': 'http://cloud-3.steamusercontent.com/ugc/1760314147747434107/29ACE0F3F4CCF996089EAE7A7A8F10DF989D8AD0/',
        'back': 'http://cloud-3.steamusercontent.com/ugc/1656728318303226151/8173A6620818B8C3A202227FF9B6198F64A1AA13/'
    },
    {
        'deckID': 7,
        'tts_color': "Pink",
        'name': 'Pink Horn Trait',
        'description': traitDescription,
        'face': 'http://cloud-3.steamusercontent.com/ugc/1760314147747431991/EF1B61955C5073563EEB72A2157A55858E2662AF/',
        'back': 'http://cloud-3.steamusercontent.com/ugc/1656728318303220938/68722CE40FB18FE8CFAC5D06AB8E00D53BCA4A33/'
    },
    {
        'deckID': 8,
        'tts_color': "Purple",
        'name': 'Purple Clover Trait',
        'description': traitDescription,
        'face': 'http://cloud-3.steamusercontent.com/ugc/1760314147747432539/F3562BC84DEA3A176FF5A51AE12460B5ED663281/',
        'back': 'http://cloud-3.steamusercontent.com/ugc/1656728318303222134/F7EA4278B2C0EC7640592E7804317356071B0788/'
    },
    {
        'deckID': 9,
        'tts_color': "White",
        'name': 'White Horse Trait',
        'description': traitDescription,
        'face': 'http://cloud-3.steamusercontent.com/ugc/1760314147747433706/61E4B2A0B2F51D544D1F05D3919B9BED8540B5E3/',
        'back': 'http://cloud-3.steamusercontent.com/ugc/1656728318303224897/771F94BB2FA229907293E17D9AC8310D6617C6B0/'
    }
]

ttsObject = '''{{{{
  "SaveName": "",
  "GameMode": "",
  "Date": "",
  "Gravity": 0.5,
  "PlayArea": 0.5,
  "GameType": "",
  "GameComplexity": "",
  "Tags": [],
  "Table": "",
  "Sky": "",
  "Note": "",
  "Rules": "",
  "TabStates": {{{{}}}},
  "ObjectStates": [
    {{{{
      "Name": "Deck",
      "Transform": {{{{
        "posX": -7.72676373,
        "posY": 0.999352634,
        "posZ": 11.263113,
        "rotX": 2.76832234E-05,
        "rotY": 180.001541,
        "rotZ": 180.210648,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      }}}},
      "Nickname": "Traits",
      "Description": "",
      "GMNotes": "",
      "ColorDiffuse": {{{{
        "r": 0.713235259,
        "g": 0.713235259,
        "b": 0.713235259
      }}}},
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": true,
      "Hands": false,
      "SidewaysCard": false,
      "DeckIDs": [ 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 139, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159 ],
      "CustomDeck": {{{{
        "1": {{{{
          "FaceURL": "{face}",
          "BackURL": "{back}",
          "NumWidth": 10,
          "NumHeight": 6,
          "BackIsHidden": true,
          "UniqueBack": false,
          "Type": 0
        }}}}
      }}}},
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {{}}
      ],
      "GUID": "100000"
    }}}}
  ],
  "LuaScript": "",
  "LuaScriptState": "",
  "XmlUI": "",
  "VersionNumber": ""
}}}}'''.format(**base)

card = '''{{
          "Name": "Card",
          "Transform": {{
            "posX": -7.69503927,
            "posY": 1.0400672,
            "posZ": 11.0366421,
            "rotX": 359.9547,
            "rotY": 179.977524,
            "rotZ": 179.976715,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          }},
          "Nickname": "{name}",
          "Description": "{description}",
          "GMNotes": "{tts_color}",
          "ColorDiffuse": {{
            "r": 0.713235259,
            "g": 0.713235259,
            "b": 0.713235259
          }},
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": true,
          "Hands": true,
          "CardID": "{cardID:d}",
          "SidewaysCard": false,
          "CustomDeck": {{
            "1": {{
              "FaceURL": "{face}",
              "BackURL": "{back}",
              "NumWidth": 10,
              "NumHeight": 6,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            }}
          }},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "GUID": "10{cardID:04d}",
          "States": {{
          {states}
          }}
        }}'''

# States start
state = '''"{deckID:d}": {{
              "Name": "Card",
              "Transform": {{
                "posX": -5.430677,
                "posY": 0.982206643,
                "posZ": 11.5248652,
                "rotX": 359.9847,
                "rotY": 180.000015,
                "rotZ": -0.00292019383,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              }},
              "Nickname": "{name}",
              "Description": "{description}",
              "GMNotes": "{tts_color}",
              "ColorDiffuse": {{
                "r": 0.713235259,
                "g": 0.713235259,
                "b": 0.713235259
              }},
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "HideWhenFaceDown": true,
              "Hands": true,
              "CardID": "{cardID:d}",
              "SidewaysCard": false,
              "CustomDeck": {{
                "{deckID:d}": {{
                  "FaceURL": "{face}",
                  "BackURL": "{back}",
                  "NumWidth": 10,
                  "NumHeight": 6,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }}
              }},
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": "",
              "GUID": "10{cardID:04d}"
            }}'''

# Generate combinations
cards = []
for cardID in range(cardCount):
    states = []
    for deck in decks:
        deck['cardID'] = deck['deckID'] * 100 + cardID
        states.append(state.format(**deck))

    base['cardID'] = base['deckID'] * 100 + cardID
    base['states'] = ','.join(states);

    cards.append(card.format(**base))

with open('allCards.json', 'w') as f:
    f.write(ttsObject.format(','.join(cards)))
